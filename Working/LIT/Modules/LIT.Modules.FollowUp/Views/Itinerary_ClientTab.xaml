<UserControl x:Class="LIT.Modules.TabControl.Views.Itinerary_ClientTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:rg="clr-namespace:LIT.Core.Controls.GridExtensions;assembly=LIT.Core"
              xmlns:behavior="clr-namespace:LIT.Core.Behaviors;assembly=LIT.Core"
              xmlns:controls="clr-namespace:LIT.Core.Controls;assembly=LIT.Core"
             xmlns:viewmodels="clr-namespace:LIT.Modules.TabControl.ViewModels" 
             d:DataContext="{d:DesignInstance Type=viewmodels:Itinerary_ClientTabViewModel}"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/LIT.Core;component/Styles/PasswordBoxStyles.xaml"/>
                <ResourceDictionary Source="/LIT.Core;component/Styles/TextBoxStyles.xaml"/>
                <ResourceDictionary Source="/LIT.Core;component/Styles/ButtonStyles.xaml"/>
                <ResourceDictionary Source="/LIT.Core;component/Styles/TabItemStyles.xaml"/>
                <ResourceDictionary Source="/LIT.Core;component/Styles/MenuItemStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.Resources>
            <Style TargetType="{x:Type Border}">
                <Setter Property="BorderBrush" Value="Black" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Background" Value="#f5f5f5" />
                <Setter Property="Height" Value="70" />
            </Style>
        </Grid.Resources>
        
        <TabControl Background="#f5f5f5" x:Name="clientdetails" >
            <TabItem Header="Details" Width="80" FontSize="16" Height="50" Style="{StaticResource TabItemBase}" Padding="5" Cursor="Hand">
                <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MinWidth="400" Width="*" />
                        <ColumnDefinition MinWidth="400" Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="0"  >
                        <DockPanel>
                            
                            <TextBlock DockPanel.Dock="Left" FontFamily="Calibri" Foreground="#53555E" FontSize="16" >
                <Label FontFamily="Calibri" Foreground="#53555E" FontSize="16" HorizontalAlignment="Left">Passengers</Label>

                            </TextBlock>
                            
                            <Button DockPanel.Dock="Right" x:Name="BtnPassengerAdd" Command="{Binding DataContext.CTPassengerCommand.AddCommand,
                                        RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" VerticalAlignment="Center" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" Background="Transparent" HorizontalAlignment="Right"   FontFamily="Calibri" Height="25" FontSize="16" BorderThickness="0" Foreground="#FF579F00" FontWeight="Bold" Cursor="Hand">
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,10,0">
                                    <Image Width="15" Source="/LIT.Core;component/Media/Images/plus.png" Margin="0,0,7,0" />
                                    <ContentPresenter Content="Add" />
                                </StackPanel>
                            </Button>

                            <Grid DockPanel.Dock="Right" HorizontalAlignment="Right" Background="#f5f5f5" VerticalAlignment="Top">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"></ColumnDefinition>
                                    <ColumnDefinition Width="80"></ColumnDefinition>
                                    <ColumnDefinition Width="240"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition ></RowDefinition>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Column="0" Grid.Row="0" Height="35"  Width="150" >
                                    <TextBlock  Text="Pax Override" Foreground="#000" FontSize="15" FontFamily="Calibri"  FontWeight="Medium" HorizontalAlignment="Right" VerticalAlignment="Center"  Margin="0 5 8 0" >
                                    </TextBlock>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Grid.Row="0" Height="35"  Width="80" HorizontalAlignment="Center" >
                                    <TextBox Grid.Column="1" Grid.Row="0" HorizontalContentAlignment="Right"  Padding="5 0 5 0" VerticalContentAlignment="Center"  Text="{Binding PaxNumbers, Mode=TwoWay}" x:Name="txtpaxoverride" Width="60" Height="30" LostFocus="TextBox_LostFocus"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2" Grid.Row="0" Height="35" Width="250">
                                    <TextBlock   Foreground="#888" FontSize="15" FontFamily="Calibri" FontStyle="Italic" VerticalAlignment="Center" Text="(overrides number of clients below)" Width="250" Margin="0 5 0 0" Height="35">
                                    </TextBlock>
                                    <TextBlock  Visibility="Collapsed" Text="{Binding Paxid}" Width="200" Height="35">
                                    </TextBlock>
                                </StackPanel>

                            </Grid>

                        </DockPanel>


                        <StackPanel  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" MinHeight="150"  Grid.Row="0" Background="white" Margin="5">

                            <DataGrid Grid.Row="0" ItemsSource = "{Binding PassengerDetailsobser , UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"  SelectedItem="{Binding SelectedItemvmct}" Grid.Column="0" Name="dgPassengerdetails" HorizontalGridLinesBrush="#D8D9D9" VerticalGridLinesBrush="#D8D9D9" 
              BorderBrush="#D8D9D9" BorderThickness="0,1,0,0" Height="300" VerticalAlignment="Top" Background="#fff" Margin="0,0,0,0" 
              CanUserAddRows="False" AutoGenerateColumns="False"  behavior:SingleClickDataGridBehavior.EnableSingleClickEditing="True">

                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ItineraryID" Binding="{Binding ItineraryID}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" />

                                    <DataGridTextColumn Header="BookingID" Binding="{Binding BookingID}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" />
                                    <DataGridTextColumn Header="Passengerid" Binding="{Binding Passengerid}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" />


                                    <DataGridTemplateColumn Header="Title" x:Name="CltabTitle" MinWidth="70">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Title, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextAlignment="Left" FontSize="14" FontFamily="Calibri" Padding="5,0,5,0"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Text="{Binding Title, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextAlignment="Left" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Display Name" x:Name="Cltabdisplayname" MinWidth="150" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding DisplayName, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextAlignment="Left" Padding="5 0 0 0" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Text="{Binding DisplayName, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextAlignment="Left" Padding="5 0 0 0" FontSize="14" FontFamily="Calibri">
                                                    <i:Interaction.Triggers>
                                                        <i:EventTrigger EventName="LostFocus">
                                                            <i:InvokeCommandAction 
                                                                Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.CTPassengerCommand.LostFocusCommand}" 
                                                                CommandParameter="{Binding}"/>
                                                        </i:EventTrigger>
                                                    </i:Interaction.Triggers>
                                                </TextBox>

                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Sale Date" x:Name="cltabSaleDate" MinWidth="150">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel>
                                                    <DatePicker  x:Name="Txtsaledate" VerticalAlignment="Center" HorizontalAlignment="Center" SelectedDate="{Binding Saledate, UpdateSourceTrigger=PropertyChanged}" FontFamily="Calibri" Width="auto" Height="24" FontSize="14" BorderBrush="#FFA1A1A1" VerticalContentAlignment="Center" HorizontalContentAlignment="Stretch" BorderThickness="0,0,0,0" >
                                                        <DatePicker.Background>
                                                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                                <GradientStop Color="White"/>
                                                                <GradientStop Color="White" Offset="1"/>
                                                            </LinearGradientBrush>
                                                        </DatePicker.Background>
                                                    </DatePicker>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <StackPanel>
                                                    <DatePicker  x:Name="Txtsaledate" VerticalAlignment="Center" HorizontalAlignment="Center" SelectedDate="{Binding Saledate, UpdateSourceTrigger=PropertyChanged}" FontFamily="Calibri" Width="100" Height="24" FontSize="14" BorderBrush="#FFA1A1A1" VerticalContentAlignment="Center" HorizontalContentAlignment="Stretch" BorderThickness="0,0,0,0" >
                                                        <DatePicker.Background>
                                                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                                <GradientStop Color="White"/>
                                                                <GradientStop Color="White" Offset="1"/>
                                                            </LinearGradientBrush>
                                                        </DatePicker.Background>
                                                    </DatePicker>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Room Type" x:Name="cltabRoomtype" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <ComboBox x:Name="cmbRoomtype" IsEditable="True" ItemsSource="{Binding DataContext.Roomtypeval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
                SelectedItem="{Binding Path=RommtypeselectedItem, UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}" IsSynchronizedWithCurrentItem="False"
                DisplayMemberPath = "OptionTypesName" FontSize="14" FontFamily="Calibri" >
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="SelectionChanged">
                                                                <i:InvokeCommandAction 
Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.CTPassengerCommand.RoomlistSelectionChangedCommand}" 
CommandParameter="{Binding}"/>
                                                            </i:EventTrigger>
                                                            <!--<i:PropertyChangedTrigger Binding="{Binding RommtypeselectedItem}">
                                                                <i:InvokeCommandAction 
                Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.CTPassengerCommand.RoomlistSelectionChangedCommand}" 
                CommandParameter="{Binding}" />
                                                            </i:PropertyChangedTrigger>-->

                                                            <i:EventTrigger EventName="LostFocus">
                                                                <i:InvokeCommandAction 
Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.CTPassengerCommand.RoomlistSelectionChangedCommand}" 
CommandParameter="{Binding}"/>
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>
                                                    </ComboBox>
                                                    <!--<TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Padding="5 0 0 0" 
                                                               Text="{Binding Path=RommtypeselectedItem.OptionTypesName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbRoomtype" IsEditable="True"  ItemsSource="{Binding DataContext.Roomtypeval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
                  SelectedItem="{Binding  Path=RommtypeselectedItem,  UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}" IsSynchronizedWithCurrentItem="False"
            DisplayMemberPath = "OptionTypesName" FontSize="14" FontFamily="Calibri">
                                                </ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Room" x:Name="cltbroom" MinWidth="100">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Center" Text="{Binding Room, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" FontSize="14" FontFamily="Calibri" ></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding Room, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Agent" x:Name="cltabAgent" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>

                                                    <ComboBox x:Name="cmbAgent" IsEditable="True" IsSynchronizedWithCurrentItem="False"  
                                                              ItemsSource="{Binding DataContext.AgenttovalPass,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
SelectedItem="{Binding Path=AgentselectedItem, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                            DisplayMemberPath = "TextField"
FontSize="14" FontFamily="Calibri"  >

                                                    </ComboBox>
                                                    <!--<TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding Path=AgentselectedItem.TextField, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbAgent" IsEditable="True" IsSynchronizedWithCurrentItem="False"
                                                          ItemsSource="{Binding DataContext.AgenttovalPass,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" 
Text="Select" 
SelectedItem="{Binding Path=AgentselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" DisplayMemberPath = "TextField"
FontSize="14" FontFamily="Calibri">
                                                </ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Default Price" x:Name="cltbdefaultprice" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="1*" />
                                                        <ColumnDefinition Width="auto" />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                    <TextBlock Grid.Column="1" Padding="0,0,5,0" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding DefaultPrice,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}"   FontSize="14" FontFamily="Calibri"/>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox x:Name="defaultprice" Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" Text="{Binding DefaultPrice,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}"  TextAlignment="Right" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="defaultprice_TextChanged" PreviewMouseDown="defaultprice_PreviewMouseDown" HorizontalContentAlignment="Right">
                                                    <!--<TextBox.Style>
                                                        <Style TargetType="TextBox">
                                                            <Setter Property="Text" Value="{Binding DefaultPrice, UpdateSourceTrigger=PropertyChanged}"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding ElementName=defaultprice, Path=Text}" Value="0.00">
                                                                    <Setter Property="Text" Value=" "/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBox.Style>-->
                                                </TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="First Name" x:Name="cltbfirstname" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding FirstName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding FirstName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Last Name" x:Name="cltbLastname" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding LastName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding LastName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Company Name" x:Name="cltbcompany" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding CompanyName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding CompanyName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Email" x:Name="cltbEmail" MinWidth="100" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Country" x:Name="cltbCountry" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <ComboBox x:Name="cmbPassCountry" IsEditable="True"  IsSynchronizedWithCurrentItem="False"
          ItemsSource="{Binding DataContext.PassengerCountrylist,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"
          Text="Select" 
          SelectedItem="{Binding Path=CountrySelectedItem, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
          DisplayMemberPath = "CountryName" FontSize="14" FontFamily="Calibri" >

                                                    </ComboBox>
                                                    <!--<TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding CountrySelectedItem.CountryName, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbPassCountry" IsEditable="True"  IsSynchronizedWithCurrentItem="False"
ItemsSource="{Binding DataContext.PassengerCountrylist,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"
Text="Select" 
SelectedItem="{Binding Path=CountrySelectedItem, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
DisplayMemberPath = "CountryName" FontSize="14" FontFamily="Calibri">

                                                </ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Price Override" x:Name="cltbPriceOverride" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="1*" />
                                                        <ColumnDefinition Width="auto" />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                    <TextBlock Grid.Column="1" x:Name="txtPriceoverride" Padding="0,0,5,0" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding PriceOverride,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" ></TextBlock>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 5 0" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding PriceOverride,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="txtPriceoverride_TextChanged"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Commission Percentage" x:Name="cltbCommpercen" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding CommissionPercentage, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 5 0" VerticalAlignment="Center" x:Name="TxtCommissionpercentage"  HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding CommissionPercentage, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="TxtCommissionpercentage_TextChanged"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                                
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Commission Override" x:Name="cltbCommissionOver" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="1*" />
                                                        <ColumnDefinition Width="auto" />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                    <TextBlock Grid.Column="1" Padding="0,0,5,0" x:Name="Txtcommisionoverride" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding CommissionOverride,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" ></TextBlock>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 5 0" VerticalAlignment="Center" x:Name="Txtcommisionoverride" HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding CommissionOverride,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="Txtcommisionoverride_TextChanged"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Agent Net" x:Name="cltbAgentNet" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="1*" />
                                                        <ColumnDefinition Width="auto" />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                    <TextBlock Grid.Column="1" Padding="0,0,5,0" Margin="0,0,5,0" x:Name="txtagentnet" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding AgentNet,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" ></TextBlock>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 5 0" VerticalAlignment="Center" x:Name="txtagentnet"  HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding AgentNet,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="txtagentnet_TextChanged"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Comments" x:Name="cltbComments" MinWidth="150" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding Comments, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding Comments, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Age Group" x:Name="cltbAgeGroup" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <ComboBox x:Name="cmbAgeGroup" IsEditable="True"  IsSynchronizedWithCurrentItem="False"
                                                              ItemsSource="{Binding DataContext.AgeGroupval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"
                                                              Text="Select" 
                                                              SelectedItem="{Binding Path=AgegroupselectedItem, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                              DisplayMemberPath = "AgeGroupsname" FontSize="14" FontFamily="Calibri" >

                                                    </ComboBox>
                                                    <!--<TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding AgegroupselectedItem.AgeGroupsname, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbAgeGroup" IsEditable="True" IsSynchronizedWithCurrentItem="False" ItemsSource="{Binding DataContext.AgeGroupval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
                                                          SelectedItem="{Binding Path=AgegroupselectedItem, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                          DisplayMemberPath = "AgeGroupsname" FontSize="14" FontFamily="Calibri" ></ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Passenger Status" x:Name="cltbPassengerStatus" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbPassengerStatus" IsEditable="True" IsSynchronizedWithCurrentItem="False"  ItemsSource="{Binding PassengerStatusval}" Text="Select" 
                                                          SelectedItem="{Binding Path=PassengerStatusselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                            DisplayMemberPath = "Fullname" FontSize="14" FontFamily="Calibri" ></ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbPassengerStatus" IsEditable="True" IsSynchronizedWithCurrentItem="False"  ItemsSource="{Binding PassengerStatusval}" Text="Select"
                                                          SelectedItem="{Binding Path=PassengerStatusselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"                             DisplayMemberPath = "Fullname"
                                                          FontSize="14" FontFamily="Calibri" ></ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Age" x:Name="cltbAge" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding Age, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding Age, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Group Name" x:Name="cltbGroupName" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>

                                                    <ComboBox x:Name="cmbGroupName" IsEditable="True" IsSynchronizedWithCurrentItem="False"                                                             
                                                              ItemsSource="{Binding DataContext.Passengergroupval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"
Text="Select" 
SelectedItem="{Binding Path=PassengerGroupNameselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                            DisplayMemberPath = "Passengergroupname"
FontSize="14" FontFamily="Calibri" >

                                                    </ComboBox>
                                                    <!--<TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding Path=PassengerGroupNameselectedItem.Passengergroupname, UpdateSourceTrigger=PropertyChanged}"
                                                               
                                                               FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbGroupName" IsEditable="True"  
                                                          ItemsSource="{Binding DataContext.Passengergroupval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"
Text="Select" 
SelectedItem="{Binding Path=PassengerGroupNameselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                            DisplayMemberPath = "Passengergroupname"
FontSize="14" FontFamily="Calibri" ></ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Type" x:Name="cltbPassengertype" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <ComboBox x:Name="cmbPassengertype" IsEditable="True" IsSynchronizedWithCurrentItem="False"  ItemsSource="{Binding DataContext.Passengertypeval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"
Text="Select" 
SelectedItem="{Binding Path=PassengerTypeselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                            DisplayMemberPath = "PassengerTypename"
FontSize="14" FontFamily="Calibri" ></ComboBox>
                                                    <!--<TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding Path=PassengerTypeselectedItem.PassengerTypename, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbPassengertype" IsEditable="True" IsSynchronizedWithCurrentItem="False"  ItemsSource="{Binding DataContext.Passengertypeval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" 
Text="Select" 
SelectedItem="{Binding Path=PassengerTypeselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                            DisplayMemberPath = "PassengerTypename"
FontSize="14" FontFamily="Calibri" ></ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Paying Pax" x:Name="cltbPayingpax" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <CheckBox   VerticalAlignment="Center"  HorizontalAlignment="Center" x:Name="chbPayingpax" IsChecked="{Binding PayingPax}"  ></CheckBox>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <CheckBox  VerticalAlignment="Center"  HorizontalAlignment="Center" x:Name="chbPayingpax" IsChecked="{Binding PayingPax}" ></CheckBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Payee" x:Name="cltbPayee" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <ComboBox x:Name="cmbPayee" IsEditable="True"  IsSynchronizedWithCurrentItem="False" ItemsSource="{Binding Payeeval}" 
Text="Select" 
SelectedItem="{Binding Path=PayeeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                            DisplayMemberPath = "Payee"
FontSize="14" FontFamily="Calibri"   ></ComboBox>
                                                    <!--<ComboBox x:Name="cmbPersonname" IsEditable="True" IsSynchronizedWithCurrentItem="False"  
                                                          ItemsSource="{Binding DataContext.Passengernamelist,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
SelectedItem="{Binding Path=PayeeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
DisplayMemberPath = "PassengerDisplayName" FontSize="14" FontFamily="Calibri"></ComboBox>-->
                                                    <!--<TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding Path=PayeeSelectedItem.Payee, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbPayee" IsEditable="True" IsSynchronizedWithCurrentItem="False"  ItemsSource="{Binding Payeeval}" 
Text="Select" 
SelectedItem="{Binding Path=PayeeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                            DisplayMemberPath = "Payee"
FontSize="14" FontFamily="Calibri"></ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="More" x:Name="cltbmore" MinWidth="100" Visibility="Hidden">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left"></TextBlock>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn MinWidth="50"  Header="Delete"  >
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri" />
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                    <Button Name="btnPassengerDelete" Command="{Binding DataContext.CTPassengerCommand.DeleteCommand,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"
                                                             FontFamily="Calibri"  Background="Transparent"  Foreground="#FF003D" BorderBrush="Transparent" VerticalAlignment="Center" HorizontalAlignment="Center" Content="&#10006;" Cursor="Hand" Padding="12,1,12,1"  FontSize="14" >
                                                        <!--<Image Source="../Images/delete_black.png" Width="16" Height="16" />-->
                                                    </Button>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>


                            </DataGrid>
                            <StackPanel>
                                <Border BorderBrush="#ccc" Height="40" Background="#fff" Padding="5 5 0 0"  BorderThickness="0 1 0 1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120" />
                                            <ColumnDefinition Width="auto" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Label Grid.Column="0" Grid.Row="0"  x:Name="lbltotalpassenger" FontWeight="Bold" FontFamily="Calibri" Foreground="#53555E" FontSize="16" >Total Passenger</Label>
                                        <Label Grid.Column="1" Grid.Row="0"   x:Name="lbltotalpassengerval" Content="{Binding Totalpassenger}" FontWeight="Bold" FontFamily="Calibri" Foreground="#53555E" FontSize="16" ></Label>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Grid.Column="0" Grid.Row="1"  >
                        <DockPanel>
                            <TextBlock FontFamily="Calibri" Foreground="#53555E" FontSize="16" >
                <Label FontFamily="Calibri" Foreground="#53555E" FontSize="16" HorizontalAlignment="Left">Room Types</Label>

                            </TextBlock>
                            <Button x:Name="BtnRoomtypeAdd" Command="{Binding DataContext.CTRoomTypeCommand.AddCommand,
                                        RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" VerticalAlignment="Center" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" Background="Transparent" BorderThickness="0" HorizontalAlignment="Right"   FontFamily="Calibri" Height="25" FontSize="16" BorderBrush="#FF579F00" Foreground="#FF579F00" FontWeight="Bold" Cursor="Hand">
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,10,0">
                                    <Image Width="15" Source="/LIT.Core;component/Media/Images/plus.png" Margin="0,0,7,0" />
                                    <ContentPresenter Content="Add" />
                                </StackPanel>
                            </Button>
                        </DockPanel>


                        <StackPanel  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" MinHeight="150"  Grid.Row="0" Background="white" Margin="5">

                            <DataGrid Grid.Row="0" ItemsSource = "{Binding RoomTypesClienttabObser , UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" SelectedItem="{Binding SelectedItemRoomtypevmct}" Grid.Column="0" Name="dgRoomtype" HorizontalGridLinesBrush="#D8D9D9" VerticalGridLinesBrush="#D8D9D9" 
              BorderBrush="#D8D9D9" BorderThickness="0,1,0,0" Height="300" VerticalAlignment="Top" Background="#fff" Margin="0,0,0,0" 
              CanUserAddRows="False" AutoGenerateColumns="False" behavior:SingleClickDataGridBehavior.EnableSingleClickEditing="True">

                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ItineraryID" Binding="{Binding ItineraryID}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" />
                                    <DataGridTextColumn Header="BookingID" Binding="{Binding BookingID}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" />
                                    <DataGridTextColumn Header="RoomtypeID" Binding="{Binding RoomtypeID}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" />


                                    <DataGridTemplateColumn Header="Room Type" x:Name="CltabRmtype" Width="*" MinWidth="50" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <ComboBox x:Name="cmbRmtype" IsEditable="True" IsSynchronizedWithCurrentItem="False"  
                                                              ItemsSource="{Binding DataContext.Rmtypeval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"  Text="Select" 
        SelectedItem="{Binding Path=OptionTypeRoomidselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
        DisplayMemberPath = "OptionTypesName" FontSize="14" FontFamily="Calibri" >
                                                    </ComboBox>


                                                    <!--<TextBlock Padding="5 0 0 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding Path=OptionTypeRoomidselectedItem.OptionTypesName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbRmtype" IsEditable="True" IsSynchronizedWithCurrentItem="False"  
                                                      ItemsSource="{Binding DataContext.Rmtypeval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}"  Text="Select" 
SelectedItem="{Binding Path=OptionTypeRoomidselectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
DisplayMemberPath = "OptionTypesName" FontSize="14" FontFamily="Calibri">
                                                </ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Header="Rooms Booked" x:Name="CltabRmsBkd" Width="*" MinWidth="50" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding RmsBkd, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding RmsBkd, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>


                                    <DataGridTemplateColumn Header="Pax Booked" Width="*" MinWidth="50" x:Name="cltbPaxPkd" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding PaxBkd, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 5 0" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding PaxBkd, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Rooms Sold" Width="*" MinWidth="50" x:Name="cltbRmsSold" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding RmsSold, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding RmsSold, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Pax Sold" Width="*" MinWidth="50" x:Name="cltbPaxSold" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding PaxSold, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding PaxSold, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Header="Sell Price" Width="*" MinWidth="50" x:Name="cltbSellPrice" >
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="1*" />
                                                        <ColumnDefinition Width="auto" />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                    <TextBlock Grid.Column="1" Padding="0,0,5,0" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding SellPrice,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                                </Grid>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                        <DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <TextBox x:Name="txtsellprice" Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding SellPrice,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="txtsellprice_TextChanged"></TextBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri"/>
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>

                                    <DataGridTemplateColumn Width="*" MinWidth="50"  Header="Delete"  >
                                        <DataGridTemplateColumn.HeaderStyle>
                                            <Style TargetType="DataGridColumnHeader">
                                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                <Setter Property="Foreground" Value="#252E39" />
                                                <Setter Property="FontFamily" Value="Calibri" />
                                            </Style>
                                        </DataGridTemplateColumn.HeaderStyle>
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                    <Button Name="btnRoomtypeDelete" Command="{Binding DataContext.CTRoomTypeCommand.DeleteCommand,
                                        RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri"  Background="Transparent"  Foreground="#FF003D" BorderBrush="Transparent" VerticalAlignment="Center" HorizontalAlignment="Center" Content="&#10006;" Cursor="Hand" Padding="12,1,12,1"  FontSize="14" >
                                                        <!--<Image Source="../Images/delete_black.png" Width="16" Height="16" />-->
                                                    </Button>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>


                            </DataGrid>

                        </StackPanel>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Grid.Row="1"  >
                        <DockPanel>
                            <TextBlock FontFamily="Calibri" Foreground="#53555E" FontSize="16" >
                <Label FontFamily="Calibri" Foreground="#53555E" FontSize="16" HorizontalAlignment="Left">Client Payments and Refunds</Label>

                            </TextBlock>
                            <Button x:Name="BtnPaymentrefundAdd" Command="{Binding DataContext.CTPaymentCommand.AddCommand,
                                        RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" VerticalAlignment="Center" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" Background="Transparent" HorizontalAlignment="Right" BorderThickness="0"   FontFamily="Calibri" Height="25" FontSize="16" BorderBrush="#FF579F00" Foreground="#FF579F00" FontWeight="Bold" Cursor="Hand">
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,10,0">
                                    <Image Width="15" Source="/LIT.Core;component/Media/Images/plus.png" Margin="0,0,7,0" />
                                    <ContentPresenter Content="Add" />
                                </StackPanel>
                            </Button>
                        </DockPanel>

                        <ScrollViewer HorizontalScrollBarVisibility="Auto">
                            <StackPanel  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" MinHeight="150"  Grid.Row="0" Background="white" Margin="5">

                                <DataGrid Grid.Row="0" ItemsSource = "{Binding PaymentRefundObser , UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" SelectedItem="{Binding SelectedItempaymentvmct}" Grid.Column="0" x:Name="dgPaymentRefund" HorizontalGridLinesBrush="#D8D9D9" VerticalGridLinesBrush="#D8D9D9" 
              BorderBrush="#D8D9D9" BorderThickness="0,1,0,0" Height="272" VerticalAlignment="Top" Background="#fff" Margin="0,0,0,0" 
              CanUserAddRows="False" AutoGenerateColumns="False" behavior:SingleClickDataGridBehavior.EnableSingleClickEditing="True">

                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="ItineraryID" Binding="{Binding Itineraryid}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" x:Name="itid" />

                                        <DataGridTextColumn Header="BookingID" Binding="{Binding Bookingid}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" x:Name="bid" />
                                        <DataGridTextColumn Header="PaymentID" Binding="{Binding PaymentID}" FontSize="14" FontFamily="Calibri" Visibility="Hidden" x:Name="pid" />


                                        <DataGridTemplateColumn Header="Person Name" Width="*" MinWidth="95" x:Name="CltabPersonName" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <ComboBox x:Name="cmbPersonname" IsEditable="True" IsSynchronizedWithCurrentItem="False"  
                                                              ItemsSource="{Binding DataContext.Passengernamelist,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
        SelectedItem="{Binding Path=PersonnameSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
        DisplayMemberPath = "PassengerDisplayName" FontSize="14" FontFamily="Calibri" >
                                                            <i:Interaction.Triggers>
                                                                <i:EventTrigger EventName="SelectionChanged">
                                                                    <i:InvokeCommandAction 
Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.CTPaymentCommand.PassengerListSelectionChangedCommand}" 
CommandParameter="{Binding}"/>
                                                                </i:EventTrigger>
                                                            </i:Interaction.Triggers>
                                                        </ComboBox>

                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbPersonname" IsEditable="True" IsSynchronizedWithCurrentItem="False"  
                                                          ItemsSource="{Binding DataContext.Passengernamelist,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
SelectedItem="{Binding Path=PersonnameSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
DisplayMemberPath = "PassengerDisplayName" FontSize="14" FontFamily="Calibri">
                                                    <i:Interaction.Triggers>
                                                        <i:EventTrigger EventName="SelectionChanged">
                                                            <i:InvokeCommandAction 
Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.CTPaymentCommand.PassengerListSelectionChangedCommand}" 
CommandParameter="{Binding}"/>
                                                        </i:EventTrigger>
                                                    </i:Interaction.Triggers>

                                                </ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>
                                        <DataGridTemplateColumn Header="Payment Type" Width="*" MinWidth="100" x:Name="CltabPaymentType" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <ComboBox x:Name="cmbPaymentType" IsEditable="True" IsSynchronizedWithCurrentItem="False"  
                                                              ItemsSource="{Binding DataContext.Payementtype,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
SelectedItem="{Binding Path=PaymentTypeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
DisplayMemberPath = "Paymenttypesname" FontSize="14" FontFamily="Calibri" ></ComboBox>
                                                        <!--<TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding Path=PaymentTypeSelectedItem.Paymenttypesname, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbPaymentType" IsEditable="True" IsSynchronizedWithCurrentItem="False"  
                                                              ItemsSource="{Binding DataContext.Payementtype,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
SelectedItem="{Binding Path=PaymentTypeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
DisplayMemberPath = "Paymenttypesname" FontSize="14" FontFamily="Calibri"></ComboBox>
                                            </DataTemplate>

                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>


                                        <DataGridTemplateColumn Header="Fee Type" Width="*" MinWidth="80" x:Name="cltbfeetype" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <ComboBox x:Name="cmbPaymentfeetype" IsEditable="True" IsSynchronizedWithCurrentItem="False"  ItemsSource="{Binding feetypeval}" Text="Select" 
                              SelectedItem="{Binding Path=FeeTypeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
DisplayMemberPath = "Paymentfeetype" FontSize="14" FontFamily="Calibri" ></ComboBox>
                                                        <!--<TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding Path=FeeTypeSelectedItem.Paymentfeetype, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbPaymentfeetype" IsEditable="True" IsSynchronizedWithCurrentItem="False"  ItemsSource="{Binding feetypeval}" Text="Select" 
                              SelectedItem="{Binding Path=FeeTypeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
DisplayMemberPath = "Paymentfeetype" FontSize="14" FontFamily="Calibri"></ComboBox>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Details" Width="*" MinWidth="70" x:Name="cltbDetails" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding Details ,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <TextBox Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Left" Text="{Binding Details, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Sale" Width="*" MinWidth="50" x:Name="cltbSale" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="1*" />
                                                            <ColumnDefinition Width="auto" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                        <TextBlock Grid.Column="1" Padding="0,0,5,0" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding Sale,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <TextBox Padding="5 0 5 0" VerticalAlignment="Center" x:Name="txtsale"  HorizontalAlignment="Stretch" TextAlignment="Right" Text="{Binding Sale,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="txtsale_TextChanged"></TextBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Payment Date" Width="*" MinWidth="120" x:Name="cltbDateofpayment" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel>
                                                        <DatePicker  Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Center" x:Name="TxtDateofPayment" SelectedDate="{Binding DateofPayment, UpdateSourceTrigger=PropertyChanged}" FontFamily="Calibri" Width="100" Height="24" FontSize="14" BorderBrush="#FFA1A1A1" VerticalContentAlignment="Center" HorizontalContentAlignment="Stretch" BorderThickness="0,0,0,0" >
                                                            <DatePicker.Background>
                                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                                    <GradientStop Color="White"/>
                                                                    <GradientStop Color="White" Offset="1"/>
                                                                </LinearGradientBrush>
                                                            </DatePicker.Background>
                                                        </DatePicker>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <StackPanel>
                                                        <DatePicker  x:Name="TxtDateofPayment" SelectedDate="{Binding DateofPayment, UpdateSourceTrigger=PropertyChanged}" FontFamily="Calibri" Width="100" Height="24" FontSize="14" BorderBrush="#FFA1A1A1" VerticalContentAlignment="Center" HorizontalContentAlignment="Stretch" BorderThickness="0,0,0,0" >
                                                            <DatePicker.Background>
                                                                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                                                    <GradientStop Color="White"/>
                                                                    <GradientStop Color="White" Offset="1"/>
                                                                </LinearGradientBrush>
                                                            </DatePicker.Background>
                                                        </DatePicker>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Payment Amount" Width="*" MinWidth="125" x:Name="cltbPaymentAmount" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="1*" />
                                                            <ColumnDefinition Width="auto" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                        <TextBlock Grid.Column="1" Padding="0,0,5,0" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding PaymentAmount,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <TextBox Padding="5 0 5 0" x:Name="txtpaymentamount" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right" Text="{Binding PaymentAmount,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="txtpaymentamount_TextChanged"></TextBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Currency Code" Width="*" MinWidth="120" x:Name="CltabCurrencyCode" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <ComboBox x:Name="cmbCurrencyCode" IsEditable="True"  ItemsSource="{Binding DataContext.Currencydetailsval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
SelectedItem="{Binding Path=CurrencyCodeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" IsSynchronizedWithCurrentItem="False"
DisplayMemberPath = "CurrencyName" FontSize="14" FontFamily="Calibri" ></ComboBox>
                                                        <!--<TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Left" Text="{Binding Path=CurrencyCodeSelectedItem.CurrencyName, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>-->
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <!--<DataGridTemplateColumn.CellEditingTemplate>
                                            <DataTemplate>
                                                <ComboBox x:Name="cmbCurrencyCode" IsEditable="True"  ItemsSource="{Binding DataContext.Currencydetailsval,RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" Text="Select" 
SelectedItem="{Binding Path=CurrencyCodeSelectedItem, UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" IsSynchronizedWithCurrentItem="False"
DisplayMemberPath = "CurrencyName" FontSize="14" FontFamily="Calibri"></ComboBox>
                                            </DataTemplate>

                                        </DataGridTemplateColumn.CellEditingTemplate>-->
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Exchange Rate" Width="*" MinWidth="120" x:Name="cltbExchangeRate" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="1*" />
                                                            <ColumnDefinition Width="auto" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                        <TextBlock Grid.Column="1" Padding="0,0,5,0" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding ExchangeRate,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <TextBox Padding="5 0 5 0" x:Name="txtexchangerate" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right" Text="{Binding ExchangeRate, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="txtexchangerate_TextChanged"></TextBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Amount" Width="*" MinWidth="70" x:Name="cltbAmount" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="1*" />
                                                            <ColumnDefinition Width="auto" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                        <TextBlock Grid.Column="1" Padding="0,0,5,0" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding Amount,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <TextBox x:Name="txtPayrefundamount" Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right" Text="{Binding Amount,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="txtPayrefundamount_TextChanged">
                                                        <i:Interaction.Triggers>
                                                            <i:EventTrigger EventName="LostFocus">
                                                                <i:InvokeCommandAction 
                Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.CTPaymentCommand.LostFocusCommand}" 
                CommandParameter="{Binding}"/>
                                                            </i:EventTrigger>
                                                        </i:Interaction.Triggers>

                                                    </TextBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Inclusive" Width="*" MinWidth="70" x:Name="cltbInclusive" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                   
                                                    <CheckBox Padding="5 0 5 0"
                                                              VerticalAlignment="Center"  HorizontalAlignment="Center" FontSize="14" Width="20" 
                                                              FontFamily="Calibri" IsChecked="{Binding Inclusive, UpdateSourceTrigger=PropertyChanged}"
                                                              >
                                                       
                                                    </CheckBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <CheckBox  Padding="5 0 5 0"
                                                              VerticalAlignment="Center"  HorizontalAlignment="Center" FontSize="14" FontFamily="Calibri" 
                                                              IsChecked="{Binding Inclusive, UpdateSourceTrigger=PropertyChanged}"
                                                              ></CheckBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Fee Percent" Width="*" MinWidth="120" x:Name="cltbFeePercent" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding FeePercent, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <TextBox Padding="5 0 5 0" VerticalAlignment="Center"  HorizontalAlignment="Stretch" TextAlignment="Right"  Text="{Binding FeePercent, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Header="Fee" x:Name="cltbFee" Width="*" MinWidth="50" >
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="1*" />
                                                            <ColumnDefinition Width="auto" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="14" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" />
                                                        <TextBlock Grid.Column="1" Padding="0,0,5,0" Margin="0,0,5,0" VerticalAlignment="Center"  HorizontalAlignment="Right" Text="{Binding Fee,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri"></TextBlock>
                                                    </Grid>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <TextBox Padding="5 0 5 0" x:Name="txtfee" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextAlignment="Right" Text="{Binding Fee,StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" FontSize="14" FontFamily="Calibri" Style="{StaticResource MyWaterMarkStyle}"  TextChanged="txtfee_TextChanged"></TextBox>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri"/>
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn Width="*" MinWidth="70"  Header="Delete"  x:Name="Delete">
                                            <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                    <Setter Property="Foreground" Value="#252E39" />
                                                    <Setter Property="FontFamily" Value="Calibri" />
                                                </Style>
                                            </DataGridTemplateColumn.HeaderStyle>
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                        <Button Name="btnPaymentDelete" Command="{Binding DataContext.CTPaymentCommand.DeleteCommand,
                                        RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri"  Background="Transparent"  Foreground="#FF003D" BorderBrush="Transparent" VerticalAlignment="Center" HorizontalAlignment="Center" Content="&#10006;" Cursor="Hand" Padding="12,1,12,1"  FontSize="14" >
                                                            <!--<Image Source="../Images/delete_black.png" Width="16" Height="16" />-->
                                                        </Button>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>
                                    </DataGrid.Columns>

                                </DataGrid>

                                <Border  Background="#fff" Height="30" BorderBrush="#c9c9c9" BorderThickness="0,1,0,1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="{Binding ElementName=CltabPersonName, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=CltabPaymentType, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbfeetype, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbDetails, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbSale, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbDateofpayment, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbPaymentAmount, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=CltabCurrencyCode, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbExchangeRate, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbAmount, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbInclusive, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbFeePercent, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=cltbFee, Path=ActualWidth}"/>
                                            <ColumnDefinition Width="{Binding ElementName=Delete, Path=ActualWidth}"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock Grid.Column="0" />
                                        <TextBlock Grid.Column="1"/>
                                        <TextBlock Grid.Column="2"/>
                                        <TextBlock Grid.Column="3"/>
                                        <TextBlock Grid.Column="4" />
                                        <TextBlock Grid.Column="5"/>
                                        <TextBlock Grid.Column="6"/>
                                        <TextBlock Grid.Column="7"/>
                                        <TextBlock Grid.Column="8"/>
                                        <Border Grid.Column="9" VerticalAlignment="Center"  Width="{Binding ElementName=cltbAmount, Path=ActualWidth}"   Background="#e1e1e1" HorizontalAlignment="Stretch">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                                                <TextBlock  Text="{Binding DataContext.ItinCurDisplayFormat, RelativeSource={RelativeSource AncestorType={x:Type UserControl}}}" FontFamily="Calibri" FontSize="16" HorizontalAlignment="Right" VerticalAlignment="Center" Padding="0,0,5,0" Margin="0,0,5,0" Foreground="#000" FontWeight="SemiBold"  TextAlignment="Right" />
                                                <Label  VerticalAlignment="Center" FontFamily="Calibri" FontSize="15" x:Name="lblTotalAmount" Content="{Binding RefundPaymentTotalAmount}" HorizontalAlignment="Right" FontWeight="Bold" ></Label>
                                            </StackPanel>

                                        </Border>
                                        <TextBlock Grid.Column="10"/>
                                        <TextBlock Grid.Column="11"/>
                                        <TextBlock Grid.Column="12"/>
                                        <TextBlock Grid.Column="13"/>
                                    </Grid>
                                </Border>

                            </StackPanel>
                        </ScrollViewer>

                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>

</UserControl>
